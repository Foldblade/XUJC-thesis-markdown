
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://foldblade.github.io/XUJC-thesis-markdown/writing-guide/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>撰写指南 - XUJC Thesis Markdown</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.644de097.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="pink">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="XUJC Thesis Markdown" class="md-header__button md-logo" aria-label="XUJC Thesis Markdown" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            XUJC Thesis Markdown
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              撰写指南
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69z"/></svg>
            </label>
          
        
      </form>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/Foldblade/XUJC-thesis-markdown" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    XUJC-thesis-markdown
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="XUJC Thesis Markdown" class="md-nav__button md-logo" aria-label="XUJC Thesis Markdown" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    XUJC Thesis Markdown
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Foldblade/XUJC-thesis-markdown" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    XUJC-thesis-markdown
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        主页
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../three-elements/" class="md-nav__link">
        三大元素
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/" class="md-nav__link">
        快速开始
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../start-writing-from-the-scaffold/" class="md-nav__link">
        从脚手架开始写作
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gui/" class="md-nav__link">
        图形用户界面（GUI）
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          撰写指南
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        撰写指南
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#markdown" class="md-nav__link">
    Markdown
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pandoc-markdown" class="md-nav__link">
    Pandoc Markdown
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#latex" class="md-nav__link">
    自定义类 \(\LaTeX\) 命令
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    元数据
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    封底
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    段落
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    章节标题及自动编号
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    图片、表格、公式的引用及自动编号
  </a>
  
    <nav class="md-nav" aria-label="图片、表格、公式的引用及自动编号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    图片及自动编号
  </a>
  
    <nav class="md-nav" aria-label="图片及自动编号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    样例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    表格及自动编号
  </a>
  
    <nav class="md-nav" aria-label="表格及自动编号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    样例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    公式及自动编号
  </a>
  
    <nav class="md-nav" aria-label="公式及自动编号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    样例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    代码与代码高亮
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    参考文献及自动生成引文
  </a>
  
    <nav class="md-nav" aria-label="参考文献及自动生成引文">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    参考文献放置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    引文文件与引文自动生成
  </a>
  
    <nav class="md-nav" aria-label="引文文件与引文自动生成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    样例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../modify-template-style/" class="md-nav__link">
        修改模板样式
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../command-line/" class="md-nav__link">
        命令行参数
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../after-generation/" class="md-nav__link">
        生成后的操作
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../implement/" class="md-nav__link">
        项目实现
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Q-and-A/" class="md-nav__link">
        Q&A
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../extended-reading/" class="md-nav__link">
        拓展阅读
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../appendix/" class="md-nav__link">
        附录
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#markdown" class="md-nav__link">
    Markdown
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pandoc-markdown" class="md-nav__link">
    Pandoc Markdown
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#latex" class="md-nav__link">
    自定义类 \(\LaTeX\) 命令
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    元数据
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    封底
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    段落
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    章节标题及自动编号
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    图片、表格、公式的引用及自动编号
  </a>
  
    <nav class="md-nav" aria-label="图片、表格、公式的引用及自动编号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    图片及自动编号
  </a>
  
    <nav class="md-nav" aria-label="图片及自动编号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    样例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    表格及自动编号
  </a>
  
    <nav class="md-nav" aria-label="表格及自动编号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    样例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    公式及自动编号
  </a>
  
    <nav class="md-nav" aria-label="公式及自动编号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    样例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    代码与代码高亮
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    参考文献及自动生成引文
  </a>
  
    <nav class="md-nav" aria-label="参考文献及自动生成引文">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    参考文献放置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    引文文件与引文自动生成
  </a>
  
    <nav class="md-nav" aria-label="引文文件与引文自动生成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    样例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/Foldblade/XUJC-thesis-markdown/edit/master/docs/writing-guide.md" title="编辑此页" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="_1">撰写指南</h1>
<p>我们建议您做好 demo 目录下所有文件的备份，最好一开始就复制一份出来。如果您没有足够的耐心阅读文档，我们更建议运用脚手架开始写作，且时常运行生成命令以检查错误，而不是从一份空白的 Markdown 文档开始。</p>
<h2 id="markdown">Markdown</h2>
<p>Markdown 的基础语法，我相信凭借自己实力找到这个项目的人已经有所了解。</p>
<p>但如果您还不会 Markdown，我建议您花费一些时间学习它。您可以参考<a href="https://markdown.com.cn/intro.html">这个教程</a>，或是<a href="https://www.zhihu.com/question/20409634">这个知乎问题</a>。</p>
<p>单纯的 Markdown 并不足以支持我们完成毕业论文的生成。因此，请继续向下看。</p>
<h2 id="pandoc-markdown">Pandoc Markdown</h2>
<p>由于 Markdown 到 docx 转换采用的是 Pandoc[@Pandoc]，这里就不得不提 Pandoc Markdown 语法了。您可以在撰写时使用 Pandoc Markdown 语法实现一些 Pandoc 特性，不过这可能需要您对 Pandoc 有着熟练掌握，并按需修改 <code>filter.py</code>。具体细节，请查阅<a href="https://pandoc.org/MANUAL.html#pandocs-markdown">官方文档</a>，或是<a href="http://pages.tzengyuxio.me/pandoc/">这份（可能有些过时的）中文翻译</a>。</p>
<p>请放心，不会 Pandoc Markdown 语法并不会影响您对本项目的使用。</p>
<h2 id="latex">自定义类 <span class="arithmatex">\(\LaTeX\)</span> 命令</h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>这一节中包含封面、原创性声明、中英文摘要、目录等的生成。</p>
</div>
<p>您可以使用我们自定义的一些类 <span class="arithmatex">\(\LaTeX\)</span> 命令辅助 docx 的排版。相信您应该已经在本文件的开头部分见过它们了：</p>
<div class="highlight"><pre><span></span><code><span class="k">\cover</span> - 封面
<span class="k">\statementOfOriginality</span> - 原创性声明
<span class="k">\abstract</span> - 生成中文摘要
<span class="k">\abstractEn</span> - 生成英文摘要
<span class="k">\toc</span> - 目录
<span class="k">\newSectionInNewPage</span> - 分节符（下一页）
<span class="k">\newSection</span> - 分节符
<span class="k">\pageBreak</span> - 分页符
</code></pre></div>
<p>比如，依照撰写规范[@ShaMenDa]，引言及正文之间是需要另起一页的。所以，您应该在引言与第一章之间，插入一个 <code>\pageBreak</code>。</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>如若您的学院要求“每个章节以新一页作为开始”，则也需在正文的每个章节标题前插入一个 <code>\pageBreak</code>。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>您<strong>必须</strong>在文档开头插入一个 <code>\newSectionInNewPage</code>。</p>
</div>
<p>Pandoc 在生成时，会自动在文档开头生成元数据中的标题、作者等信息，这对我们来说是多余的。因此，在后处理流程中，我们会删除第一个 <code>\newSectionInNewPage</code> 及其之前的所有内容。</p>
<p>部分 Markdown 编辑器支持 <code>[TOC]</code> 目录。您也可以在适当位置插入 <code>[TOC]</code>，我们的过滤器会将 <code>[TOC]</code> 视为 <code>\toc</code>。这些命令的转换过程发生在项目根目录的 <code>filter.py</code> 中，您可以自行前往，查看具体的转换与实现。</p>
<p>封面、原创性声明均取自学校提供的模板文件，唯进行了排版的优化，如将“回车换页”优化为了更科学的分页符换页，此改动不会影响您的使用。</p>
<h2 id="_2">元数据</h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>这一节中包含封面中的标题、作者、院系、专业、学号、指导教师、职称等信息的配置，以及中英文摘要和关键词的配置。</p>
</div>
<p><code>demo/metadata.yaml</code> 文件以及脚手架中的 <code>metadata.yaml</code> 均是我们的元数据文件。在该文件中，您可以修改封面中的标题、作者等信息，撰写您的摘要，也可以进行一些诸如图片自动编号、表格自动编号、公式自动编号的配置。</p>
<p>您可以用代码或文本编辑器打开 YAML 文件进行编辑。如果您并不熟悉 YAML 语法，请在完成编辑后将全部内容复制到 <a href="https://www.bejson.com/validators/yaml_editor/">YAML 校验工具</a>进行校验，通过后再进行保存。</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>YAML 的注释用 <code>#</code>。</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>元数据中的 <code>abstract</code> 与 <code>abstractEn</code> 字段，我们强烈建议您在一行内完成撰写。如果您觉得一行不够“优雅”、希望分段呈现，则您必须在每段之间空一行（实际上便是在每段后加入两个换行符、按两下回车）。如果您仅使用一个回车、不在段落中空一行，您的中文摘要可能出现意想不到的情况，例如句间的空格。</p>
</div>
<h2 id="_3">封底</h2>
<p>默认会在文档末尾生成空白页作为封底。如您不需要，请参阅<a href="../command-line/">命令行参数</a>一章中的<a href="#不在文档末尾生成空白页作为封底">不在文档末尾生成空白页作为封底</a>一节，在生成命令后加上参数 <code>--no-blank-back-cover</code>。</p>
<h2 id="_4">段落</h2>
<p>自由地按照 Markdown 语法撰写段落即可。要创建段落，请使用空白行将一行或多行文本进行分隔。不要用空格或制表符缩进段落。</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>如您需保留一个空段落——或者更通常意义上的“换行”；例如，您的指导老师要求您在“结论”后空一行；那您应该在结论后空出一段，并在那一段落中输入四个空格。由于 Markdown 靠两个换行符进行段落的划分，因此，实际的 Markdown 应该表现为：结论与结论第一段之间空出三行，在其中的第二行输入四个空格。</p>
</div>
<h2 id="_5">章节标题及自动编号</h2>
<p>不同于 Markdown 文件中通常只出现一个一级标题，在我们的 Markdown 中，第几级标题便是几级标题。这意味着，您的一级标题“绪论”，应该使用 Markdown 的一级标题语法：<code># 绪论</code>。</p>
<p>引言、结论、致谢、参考文献、附录也采用一级标题。为了正确生成对应的样式，您的引言、结论、致谢、参考文献、附录，<strong>能且只能</strong>取值为：引言、总结、结论、致谢、致谢语、参考文献、附录。具体细节，请参阅<a href="#模板文件样式说明">模板文件样式说明</a>一节。如果您变换了这些标题，它们将无法得到正确处理。</p>
<p>我们默认配置了章节标题自动编号——包括每章开头自动转变为“第 x 章”，您仅需在 Markdown 中行云流水地创作即可。如果您选择了章节标题自动编号，正如 <code>demo/readme.md</code> 与脚手架所展示的那样，您还需要在引言、结论、致谢、参考文献、附录的后面加上 <code>{.unnumbered}</code>，这会让 Pandoc 意识到这几节是无需自动编号的。</p>
<p>当然，您也可以选择手动编号——这将给您标题编号的更多自由度，比如结构为：</p>
<ul>
<li>第一章<ul>
<li>（一）<ul>
<li><code>1.</code><ul>
<li>（1）<ul>
<li>①</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>等，这需要您在撰写标题时就手动加入。您需要手动撰写标题如 <code># 第一章 绪论</code>而不像自动编号这样的 <code># 绪论</code>。此外，您还需要在根目录的 <code>processer.py</code> 中找到 <code>pandoc_process</code> 函数，在其中注释以下内容：</p>
<div class="highlight"><pre><span></span><code><span class="gd">--- processer.py</span><span class="w"></span>
<span class="w"> </span>                     + &#39;--csl &quot;%s&quot; &#39; % os.path.join(WHERE_SCRIPT, &#39;assets/chinese-gb7714-2005-numeric.csl&#39;)<span class="w"></span>
<span class="gd">-                     + &#39;--number-sections &#39;  # 章节自动编号</span><span class="w"></span>
<span class="gi">+                  #  + &#39;--number-sections &#39;  # 章节自动编号</span><span class="w"></span>
<span class="w"> </span>                     + source)<span class="w"></span>
</code></pre></div>
<h2 id="_6">图片、表格、公式的引用及自动编号</h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>自动编号是可选的。您完全可以按照 Markdown 语法手动进行编号。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>该项目采用的是我们修改过的 pandoc-xnos 部分组件，但官方文档仍是适用的。</p>
</div>
<p>该功能采用 <a href="https://github.com/tomduck/pandoc-xnos">pandoc-xnos</a> 过滤器套件实现[@Duck2022pandoc-xnos]。您可以在元数据文件中修改它的配置：</p>
<div class="highlight"><pre><span></span><code><span class="nt">***-plus-name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">图</span><span class="w"> </span><span class="c1"># 行内引用</span><span class="w"></span>
<span class="nt">***-star-name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">图</span><span class="w"> </span><span class="c1"># 行首引用（汉字理论上是和行内没区别的，主要面向西文用户，大小写需求）</span><span class="w"></span>
<span class="nt">***-caption-name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">图</span><span class="w"> </span><span class="c1"># 说明文字（题目）名称，如 图、Fig、Figure 等</span><span class="w"></span>
<span class="nt">***-caption-separator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">space</span><span class="w"> </span><span class="c1"># 说明文字（题目）编号与说明文字（题目）分隔符，可取值为 none, colon, period, space, quad, newline</span><span class="w"></span>
<span class="nt">***-number-by-section</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"> </span><span class="c1"># 是否按章节编号</span><span class="w"></span>
</code></pre></div>
<p>有关我们自定义的配置项：</p>
<div class="highlight"><pre><span></span><code><span class="nt">***-section-separator</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;-&#39;</span><span class="w"> </span><span class="c1"># 章节编号分隔符，如 1-1，若注释或删除则默认为 1.1</span><span class="w"></span>
</code></pre></div>
<h3 id="_7">图片及自动编号</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>该项目采用的是<a href="https://github.com/foldblade/pandoc-fignos">我们修改过的 pandoc-fignos</a>。但官方文档仍是适用的。</p>
</div>
<p>该功能采用 pandoc-fignos[Duck2022pandoc-fignos] 实现。</p>
<p>在 Word 中的显示效果则类似：</p>
<p>图片说明文字（题目）：<code>图 1.1  这是图片描述</code></p>
<p>图片引用：<code>图 1.1</code></p>
<p>您可以像这样插入一张图片：</p>
<div class="highlight"><pre><span></span><code>![<span class="nt">Photo by Baim Hanif on Unsplash, Free to use under the Unsplash License</span>](<span class="na">readme.assets/baim-hanif-pYWuOMhtc6k-unsplash.jpg</span>){#fig:graduation}
</code></pre></div>
<p>其中，中括号内写图片的说明文字（题目），括号内是文件的路径，最后的大括号中 <code>#fig:</code> 来自 pandoc-fignos，冒号后需要是一个全文唯一的字符串或是数字。您可以通过 <code>+@fig:graduation{nolink=True}</code> 这样的语法去引用图片并实现自动编号，一般来说，行内引用以 <code>+</code> 开头，行首引用以 <code>*</code> 开头。<code>nolink=True</code> 表示不为引用生成超链接。当您引用图片时，如果选择添加超链接，您可能需要在引用命令外包裹以大括号：<code>{+@fig:graduation}</code>。具体配置均存放于元数据文件中，有关配置的具体细节，请参阅 <a href="https://github.com/tomduck/pandoc-tablenos">pandoc-fignos 文档</a>。</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>我们建议您使用 Markdown 编辑器生成相对 Markdown 文件的<strong>相对路径</strong>，因为我们会默认 Markdown 文件所在目录为资源所在目录。</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>若需修改自动编号格式，可在元数据文件中修改它的配置。</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>如果你需要修改章节分隔符，如从 图 1.1 变成 图 1-1，则应该在元数据中设置 <code>fignos-section-separator: '-'</code>。</p>
</div>
<p>如果您想手动为图片编号，仅需按 Markdown 标准语法撰写：</p>
<div class="highlight"><pre><span></span><code>![<span class="nt">图 1.1 Photo by Baim Hanif on Unsplash, Free to use under the Unsplash License</span>](<span class="na">readme.assets/baim-hanif-pYWuOMhtc6k-unsplash.jpg</span>)
</code></pre></div>
<h4 id="_8">样例</h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>样例部分唯有在生成的 docx 中才能看到最终效果。在 Markdown 编辑器或渲染结果中，您可以参考学习语法。</p>
</div>
<p>上述语法插入的图片来自 <a href="https://unsplash.com/s/photos/graduation?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a> 网站的 <a href="https://unsplash.com/@baim?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Baim Hanif</a>，采用 <a href="https://unsplash.com/license">Unsplash License</a> 授权免费使用，如下+@fig:graduation{nolink=True}所示：</p>
<p><img alt="Photo by Baim Hanif on Unsplash,  Free to use under the Unsplash License" src="../readme.assets/baim-hanif-pYWuOMhtc6k-unsplash.jpg" />{#fig:graduation}</p>
<p>另一张来自 <a href="https://unsplash.com/s/photos/graduation?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a> 网站 <a href="https://unsplash.com/@city_child?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Joan Kwamboka</a> 的图片，采用 <a href="https://unsplash.com/license">Unsplash License</a> 授权免费使用，如下{+@fig:graduation2}所示：</p>
<p><img alt="Photo by Joan Kwamboka on Unsplash, Free to use under the Unsplash License" src="../readme.assets/joan-kwamboka-hvL7qlvZ5T4-unsplash.jpg" />{#fig:graduation2}</p>
<h3 id="_9">表格及自动编号</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>该项目采用的是<a href="https://github.com/foldblade/pandoc-tablenos">我们修改过的 pandoc-tablenos</a>，但官方文档仍是适用的。</p>
</div>
<p>该功能采用 pandoc-tablenos[@Duck2022pandoc-tablenos] 实现。</p>
<p>在 Word 中的显示效果则类似：</p>
<p>表格说明文字（题目）：<code>表 1.1  这是表格描述</code></p>
<p>表格引用：<code>表 1.1</code></p>
<p>表格的插入建议采用编辑器。目前，Markdown 中的表格并不支持合并单元格；HTML 表格也暂时不被支持。我们建议您留空所需的单元格，在生成 Word 文档后手动合并。我们的表格样式采用三线表，有关表格样式的详细情况，请参阅<a href="../implement/">项目实现</a>一章中的<a href="#Table">Table</a> 一节。</p>
<p>您可以在表格前后这样这样插入表格的说明文字（题目）：</p>
<div class="highlight"><pre><span></span><code>: 知识共享许可协议的四项基本权利 {#tbl:CC_four_rights}
</code></pre></div>
<p>最后的大括号中 <code>#tbl:</code> 来自 pandoc-tablenos，冒号后需要是一个全文唯一的字符串或是数字。您可以通过 <code>+@tbl:CC_four_rights{nolink=True}</code> 这样的语法去引用图片并实现自动编号，一般来说，行内引用以 <code>+</code> 开头，行首引用以 <code>*</code> 开头。<code>nolink=True</code> 表示不为引用生成超链接。当您引用图片时，如果选择添加超链接，您可能需要在引用命令外包裹以大括号：<code>{+@tbl:CC_four_rights}</code>。具体配置均存放于元数据文件中，有关配置的具体细节，请参阅 <a href="https://github.com/tomduck/pandoc-tablenos">pandoc-tablenos 文档</a>。</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>若需修改自动编号格式，可在元数据文件中修改它的配置。</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>如果你需要修改章节分隔符，如从 表 1.1 变成 表 1-1，则应该在元数据中设置 <code>tablenos-section-separator: '-'</code>。</p>
</div>
<p>如果您想手动为表格编号，仅需按如下语法撰写：</p>
<div class="highlight"><pre><span></span><code>: 表 1.1 知识共享许可协议的四项基本权利 {#tbl:CC_four_rights}
</code></pre></div>
<h4 id="_10">样例</h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>样例部分唯有在生成的 docx 中才能看到最终效果。在 Markdown 编辑器或渲染结果中，您可以参考学习语法。</p>
</div>
<p>下+@tbl:CC_four_rights{nolink=True}引用自<a href="https://zh.wikipedia.org/wiki/%E7%9F%A5%E8%AF%86%E5%85%B1%E4%BA%AB%E8%AE%B8%E5%8F%AF%E5%8D%8F%E8%AE%AE">知识共享许可协议 - 维基百科，自由的百科全书</a>：</p>
<p>: 知识共享许可协议的四项基本权利 {#tbl:CC_four_rights}</p>
<table>
<thead>
<tr>
<th>权利</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>署名</strong>（英语：Attribution，<strong>by</strong>）</td>
<td>您（用户）可以复制、发行、展览、表演、放映、广播或通过信息网络传播本作品；您必须按照作者或者许可人指定的方式对作品进行署名。</td>
</tr>
<tr>
<td><strong><a href="https://zh.wikipedia.org/wiki/相同方式共享">相同方式共享</a></strong>（英语：<strong>S</strong>hare<strong>A</strong>like，<strong>sa</strong>）</td>
<td>您可以自由复制、散布、展示及演出本作品；若您改变、转变或更改本作品，仅在遵守与本作品相同的授权条款下，您才能散布由本作品产生的派生作品。（参见 <a href="https://zh.wikipedia.org/wiki/Copyleft">copyleft</a>）。</td>
</tr>
<tr>
<td><strong>非商业性使用</strong>（英语：<strong>N</strong>on<strong>c</strong>ommercial,<strong>nc</strong> ）</td>
<td>您可以自由复制、散布、展示及演出本作品；您不得为<a href="https://zh.wikipedia.org/wiki/商业">商业</a>目的而使用本作品。</td>
</tr>
<tr>
<td><strong>禁止演绎</strong>（英语：<strong>N</strong>o <strong>D</strong>erivative Works，<strong>nd</strong>)</td>
<td>您可以自由复制、散布、展示及演出本作品；您不得改变、转变或更改本作品。</td>
</tr>
</tbody>
</table>
<p>下{+@tbl:open_source_licenses_comparison}引用自<a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E5%8F%8A%E9%96%8B%E6%94%BE%E5%8E%9F%E5%A7%8B%E7%A2%BC%E8%BB%9F%E9%AB%94%E8%A8%B1%E5%8F%AF%E8%AD%89%E6%AF%94%E8%BC%83">自由及开放原始码软体许可证比较 - 维基百科，自由的百科全书</a>：</p>
<p>: 自由及开放原始码软体许可证比较 {#tbl:open_source_licenses_comparison}</p>
<table>
<thead>
<tr>
<th>许可证</th>
<th>版本</th>
<th>包含许可证</th>
<th>包含原始码</th>
<th>连结</th>
<th>状态变化</th>
<th>商业使用</th>
<th>散布</th>
<th>修改</th>
<th>专利授权</th>
<th>私人使用</th>
<th>授权转售</th>
<th>无担保责任</th>
<th>没有商标</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://zh.wikipedia.org/wiki/Apache许可证">Apache 许可证</a></td>
<td>2.0</td>
<td>是</td>
<td></td>
<td></td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td><a href="https://zh.wikipedia.org/wiki/BSD许可证">3 句版 BSD 许可证</a></td>
<td></td>
<td>是</td>
<td></td>
<td></td>
<td></td>
<td>是</td>
<td>是</td>
<td>是</td>
<td></td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td><a href="https://zh.wikipedia.org/wiki/BSD许可证">2 句版 BSD 许可证</a></td>
<td></td>
<td>是</td>
<td></td>
<td></td>
<td></td>
<td>是</td>
<td>是</td>
<td>是</td>
<td></td>
<td>是</td>
<td>是</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td><a href="https://zh.wikipedia.org/wiki/GNU通用公共许可证">GNU 通用公共许可证</a></td>
<td>2.0</td>
<td>是</td>
<td>是</td>
<td></td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>否</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td><a href="https://zh.wikipedia.org/wiki/GNU通用公共许可证">GNU 通用公共许可证</a></td>
<td>3.0</td>
<td>是</td>
<td>是</td>
<td></td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td><a href="https://zh.wikipedia.org/wiki/GNU宽通用公共许可证">GNU 宽通用公共许可证</a></td>
<td>2.1</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td></td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td></td>
</tr>
<tr>
<td><a href="https://zh.wikipedia.org/wiki/GNU宽通用公共许可证">GNU 宽通用公共许可证</a></td>
<td>3.0</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td></td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="_11">公式及自动编号</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>该项目采用的是<a href="https://github.com/foldblade/pandoc-tablenos">我们修改过的 pandoc-eqnos</a>，但官方文档仍是适用的。</p>
</div>
<p>该功能采用 pandoc-eqnos[@Duck2022pandoc-eqnos] 实现。</p>
<p>在 Word 中的显示效果则类似：</p>
<p>公式显示：<code>pi = 3.14159265  (1.1)</code></p>
<p>公式引用：开启美国数学协会风格：<code>式 (1.1)</code>、关闭美国数学协会风格：<code>式 1.1</code></p>
<p>美国数学协会风格默认关闭。您可以在 <code>metadata.yaml</code> 中修改它的配置，去除注释并设定为 <code>true</code>：</p>
<div class="highlight"><pre><span></span><code><span class="nt">eqnos-eqref</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"> </span><span class="c1"># 开启美国数学协会（AMS）风格引用</span><span class="w"></span>
</code></pre></div>
<p>您可以以下列语法输入公式：单行公式使用双美元符 <code>$$</code> 包裹，行内公式使用单美元符 <code>$</code> 包裹，公式需遵循 <span class="arithmatex">\(\TeX\)</span> 语法，您可以使用<a href="https://www.latexlive.com">LaTeX 公式编辑器</a>辅助生成。</p>
<div class="highlight"><pre><span></span><code><span class="sb">$$</span><span class="nb"> </span><span class="nv">\pi</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="m">3</span><span class="nb">.</span><span class="m">141592653589793238462643</span><span class="nb"> </span><span class="nv">\ldots</span><span class="nb"> </span><span class="s">$$</span> <span class="nb">{</span>#eq:pi<span class="nb">}</span>
<span class="sb">$$</span><span class="nb"> S </span><span class="o">=</span><span class="nb"> </span><span class="nv">\pi</span><span class="nb"> </span><span class="nv">\times</span><span class="nb"> r^{</span><span class="m">2</span><span class="nb">} </span><span class="s">$$</span> <span class="nb">{</span>#eq:area<span class="nb">_</span>of<span class="nb">_</span>circle<span class="nb">}</span>
</code></pre></div>
<p>最后的大括号中 <code>#eq:</code> 来自 pandoc-eqnos，冒号后需要是一个全文唯一的字符串或是数字。您可以通过 <code>+@eq:area_of_circle{nolink=True}</code> 这样的语法去引用图片并实现自动编号，一般来说，行内引用以 <code>+</code> 开头，行首引用以 <code>*</code> 开头。<code>nolink=True</code> 表示不为引用生成超链接。当您引用图片时，如果选择添加超链接，您可能需要在引用命令外包裹以大括号：<code>{+@eq:area_of_circle}</code>。具体配置均存放于元数据文件中，有关配置的具体细节，请参阅 <a href="https://github.com/tomduck/pandoc-eqnos">pandoc-eqnos 文档</a>。</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>若需修改自动编号格式，可在元数据文件中修改它的配置。</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>如果你需要修改章节分隔符，如从 式 1.1 变成 式 1-1，则应该在元数据中设置 <code>eqnos-section-separator: '-'</code>。</p>
</div>
<p>如果您想手动为公式编号，仅需按如下语法撰写：</p>
<div class="highlight"><pre><span></span><code><span class="sb">$$</span><span class="nb"> S </span><span class="o">=</span><span class="nb"> </span><span class="nv">\pi</span><span class="nb"> </span><span class="nv">\times</span><span class="nb"> r^{</span><span class="m">2</span><span class="nb">} </span><span class="s">$$</span> (1.1)
</code></pre></div>
<h4 id="_12">样例</h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>样例部分唯有在生成的 docx 中才能看到最终效果。在 Markdown 编辑器或渲染结果中，您可以参考学习语法。</p>
</div>
<p>$$ \pi = 3.141592653589793238462643 \ldots $$ {#eq:pi}</p>
<p>$$ S = \pi \times r^{2} $$ {#eq:area_of_circle}</p>
<p>*@eq:pi{nolink=True} 展现了圆周率 π，它是一个无理数。计算圆的面积，一般会用{+@eq:area_of_circle}。</p>
<p>行内公式，可以使用语法 <code>$\pi = 3.141592653589793238462643 \ldots$</code> 。结果是这样的：<span class="arithmatex">\(\pi = 3.141592653589793238462643 \ldots\)</span>。</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>由于本文档中出现了部分的 <span class="arithmatex">\(\LaTeX\)</span> 语法，在转换时可能出现 Warning，诸如 <code>[WARNING] Could not convert TeX math \LaTeX, rendering as TeX:</code> 。在撰写时，请尽量保证公式采用 <span class="arithmatex">\(\TeX\)</span> 语法。</p>
</div>
<h2 id="_13">代码与代码高亮</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>代码块会采用 Consolas 字体，这可能无法符合部分指导老师对正文部分的要求。请谨慎使用。</p>
</div>
<p>代码请使用 Markdown 代码块。代码高亮风格，参阅<a href="https://pandoc.org/MANUAL.html#syntax-highlighting">Pandoc 文档 Syntax highlighting 一节</a>。考虑到打印需求，我们采用了一个灰度风格<code>monochrome</code>。高亮风格的样例，可以在<a href="https://github.com/kaityo256/pandoc_highlight">这里</a>查看。如需修改，请在根目录的 <code>processer.py</code> 中找到 <code>pandoc_process</code> 函数中修改：</p>
<div class="highlight"><pre><span></span><code><span class="gd">--- processer.py</span><span class="w"></span>
<span class="w"> </span>                     # 资源文件路径，默认与输入文件一致<span class="w"></span>
<span class="w"> </span>                     + &#39;--resource-path=&quot;%s&quot; &#39; % os.path.dirname(source)<span class="w"></span>
<span class="gd">-                     + &#39;--highlight-style monochrome &#39;  # 考虑到最后需要打印，选了个灰度的高亮风格</span><span class="w"></span>
<span class="gi">+                     + &#39;--highlight-style pygments &#39;  # 换成了 pygments 风格</span><span class="w"></span>
<span class="w"> </span>                     + &#39;--filter pandoc-fignos &#39;  # 图片自动编号<span class="w"></span>
</code></pre></div>
<h2 id="_14">参考文献及自动生成引文</h2>
<h3 id="_15">参考文献放置</h3>
<p>根据 <a href="https://pandoc.org/MANUAL.html#placement-of-the-bibliography">Pandoc 文档 Placement of the bibliography</a>，您需要在放置参考文献列表的地方放置以下文本：</p>
<div class="highlight"><pre><span></span><code>::: {#refs}
:::
</code></pre></div>
<p>如不放置，将会在文末最后生成参考文献列表。</p>
<h3 id="_16">引文文件与引文自动生成</h3>
<p>引文依靠 Pandoc 自动生成，需要提供一个 BibTeX 格式[@BibTeX]引文文件。您可以在 <code>/demo/ref.bib</code> 中找到本文使用的引文文件。具体教程，请参阅附录中的 <a href="#Zotero_简明教程">Zotero 简明教程</a>。</p>
<p>您可以通过以下语法插入引文：<code>[@BibTeX]</code>。在希望插入引文的地方，插入方括号，<code>@</code> 后跟 Zotero 内的 Citation Key 即可。</p>
<h4 id="_17">样例</h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>样例部分唯有在生成的 docx 中才能看到最终效果。在 Markdown 编辑器或渲染结果中，您可以参考学习语法。</p>
</div>
<p>比如，我又引用了一遍 BibTeX 官网[@BibTeX]。</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="页脚">
      
        
        <a href="../gui/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 图形用户界面（GUI）" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              图形用户界面（GUI）
            </div>
          </div>
        </a>
      
      
        
        <a href="../modify-template-style/" class="md-footer__link md-footer__link--next" aria-label="下一页: 修改模板样式" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              修改模板样式
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link"], "search": "../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c44cc438.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>